追踪分析，一种关于如何跟踪应用行为的新方法。 | Trace-Profiling: A New Way About How to Track Application Behavior - Cheng Chang, Harmony Cloud Technology

https://kccncosschn2023.sched.com/event/1PTIX/jian-heng-daelssuo-bin-heng-zhi-chan-zha-trace-profiling-a-new-way-about-how-to-track-application-behavior-cheng-chang-harmony-cloud-technology

连续性剖析已经成为增强可观察性平台的有价值技术，使用户能够更好地了解应用行为。然而，大多数连续性剖析项目主要关注CPU事件，导致某些限制。这些项目往往忽视了其他关键因素，如网络和存储，这些因素可能导致延迟异常。为了全面了解应用行为，剖析应该不仅包括CPU事件，还应包括非CPU事件。 目前，剖析通常在进程级别进行，需要大量工作来分析应用程序对特定URL的行为。然而，通过在线程级别上结合追踪和剖析，我们可以迅速确定应用程序对给定URL的特定行为。这种追踪剖析方法利用eBPF的强大功能，为根本原因分析和问题解决提供了更高效的方法。 
Continuous profiling has emerged as a valuable technique to enhance observability platforms, allowing users to gain better insights into application behavior. However, most continuous profiling projects primarily focus on CPU events, resulting in certain limitations. These projects tend to overlook other crucial factors such as network and storage, which can contribute to latency outliers. To achieve a comprehensive understanding of application behavior, profiling should encompass not only CPU events but also Off-CPU events. At present, profiling is typically conducted at the process level, requiring significant effort to analyze how an application behaves in response to a specific URL. However, by combining traces and profiling at the thread level, we can swiftly identify the application's behavior specific to a given URL. This trace-profiling approach, leveraging the powerful capabilities of eBPF, offers a more efficient method for root-cause analysis and issue resolution.