多集群警报：一种基于Kubernetes的方法 | Multi-Cluster Alerting: A Kubernetes-Native Approach - Junot Xiang & Wanjun Lei, QingCloud

https://kccncosschn2023.sched.com/event/1PTJA/zhong-shi-sugi-daepsuo-27dkuberneteszha-multi-cluster-alerting-a-kubernetes-native-approach-junot-xiang-wanjun-lei-qingcloud

在这个演示中，我们将揭示一个符合多集群和多租户警报和通知要求的Kubernetes原生解决方案。我们的全面方法涵盖了指标、事件、审计和日志的警报，同时确保与alertmanager兼容。 对于指标，我们提供了适用于不同警报范围的分层RuleGroups CRDs，同时保持与Prometheus规则定义的兼容性。 我们还为Kubernetes事件和审计事件开发了特定的规则定义和评估器（即rulers），它们共享相同的规则评估引擎。 我们的通知实现，名为notification-manager，提供了许多通知渠道和基本功能，如路由、过滤、聚合和通过CRDs进行静默。它不仅如此，还提供了全面的通知历史记录、多集群和多租户支持。这些功能有助于轻松集成各种警报来源。 
In this presentation, we will unveil a Kubernetes-native solution that addresses the requirements of the multi-cluster and multi-tenant alerting and notifications. Our comprehensive approach covers alerting of metrics, events, auditing, and logs while ensuring compatibility with alertmanager. For metrics, we offers layered RuleGroups CRDs for different alerting scopes while maintaining compatibility with Prometheus rule definitions. We have also developed specific rule definitions and evaluators (namely rulers) for Kubernetes Events and Audit Events, which share the same rule evaluation engine. Our notification implementation, named notification-manager, offers quite a few notification channels and essential functionalities such as routing, filtering, aggregation, and silence through CRDs. It goes beyond that, providing a comprehensive notification history, multi-cluster, and multi-tenant support. These features facilitate effortless integration across various alerting sources.